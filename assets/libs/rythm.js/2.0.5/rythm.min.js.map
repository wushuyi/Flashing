{"version":3,"sources":["rythm.js"],"names":["global","factory","exports","module","define","amd","Rythm","this","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Analyser$1","Analyser","_this","initialise","analyser","fftSize","reset","hzHistory","frequences","Uint8Array","frequencyBinCount","analyse","getByteFrequencyData","maxValueHistory","shift","push","getRangeAverageRatio","startingValue","nbValue","total","getFrequenceRatio","index","min","max","forEach","value","scale","percentage","startingScale","pulseRatio","player","Player","createSourceFromAudioElement","audioElement","setAttribute","connectedSources","source","audioCtx","createMediaElementSource","connectExternalAudioElement","audio","currentInputType","inputTypeList","connectedIndex","getAttribute","connectSource","connect","gain","destination","addEventListener","stop","setMusic","trackUrl","Audio","setGain","plugMicrophone","getMicrophoneStream","then","stream","createMediaStreamSource","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","medias","error","start","play","pause","getAudioTracks","enabled","browserAudioCtx","AudioContext","webkitAudioContext","createAnalyser","createGain","TRACK","STREAM","EXTERNAL","pulse","elem","options","arguments","undefined","isNaN","style","transform","shake","direction","twist","jump","vanish","reverse","opacity","color","from","to","scaleR","scaleG","scaleB","backgroundColor","Math","floor","dancer","Dancer","dances","registerDance","type","className","ratio","dance","elements","document","getElementsByClassName","Array","url","addRythm","elementClass","startValue","rythms","stopped","renderRythm","mappingItem","requestAnimationFrame"],"mappings":"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"}